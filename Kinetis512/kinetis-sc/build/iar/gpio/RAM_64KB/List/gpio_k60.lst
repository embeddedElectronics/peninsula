###############################################################################
#                                                                             #
#                                                       06/Mar/2012  13:00:25 #
# IAR ANSI C/C++ Compiler V6.10.1.22143/W32 EVALUATION for ARM                #
# Copyright 1999-2010 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  F:\My Works\K60\Kinetis512\kinetis-sc\src\projects\gpio\ #
#                    gpio_k60.c                                               #
#    Command line =  "F:\My Works\K60\Kinetis512\kinetis-sc\src\projects\gpio #
#                    \gpio_k60.c" -D IAR -D TWR_K60N512 -lCN "F:\My           #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\RAM_64KB\ #
#                    List\" -lB "F:\My Works\K60\Kinetis512\kinetis-sc\build\ #
#                    iar\gpio\RAM_64KB\List\" -o "F:\My                       #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\RAM_64KB\ #
#                    Obj\" --no_cse --no_unroll --no_inline --no_code_motion  #
#                    --no_tbaa --no_clustering --no_scheduling --debug        #
#                    --endian=little --cpu=Cortex-M4 -e --fpu=None            #
#                    --dlib_config "D:\Program Files\IAR Systems\Embedded     #
#                    Workbench 6.0 Evaluation\arm\INC\c\DLib_Config_Normal.h" #
#                     -I "F:\My Works\K60\Kinetis512\kinetis-sc\build\iar\gpi #
#                    o\..\..\..\src\projects\gpio\" -I "F:\My                 #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\common\" -I "F:\My Works\K60\Kinetis512\kinetis-sc\b #
#                    uild\iar\gpio\..\..\..\src\cpu\" -I "F:\My               #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\cpu\headers\" -I "F:\My                              #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\drivers\uart\" -I "F:\My                             #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\drivers\mcg\" -I "F:\My                              #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\drivers\wdog\" -I "F:\My                             #
#                    Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\..\..\..\ #
#                    src\platforms\" -I "F:\My Works\K60\Kinetis512\kinetis-s #
#                    c\build\iar\gpio\..\" -Ol --use_c++_inline               #
#    List file    =  F:\My Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\RAM #
#                    _64KB\List\gpio_k60.lst                                  #
#    Object file  =  F:\My Works\K60\Kinetis512\kinetis-sc\build\iar\gpio\RAM #
#                    _64KB\Obj\gpio_k60.o                                     #
#                                                                             #
#                                                                             #
###############################################################################

F:\My Works\K60\Kinetis512\kinetis-sc\src\projects\gpio\gpio_k60.c
      1          /*
      2           * File:		gpio_k60.c
      3           * Purpose:		LED and Switch Example
      4           *
      5           *                      Configures GPIO for the LED and push buttons on the TWR-K60N512
      6           *                      Blue LED - On
      7           *                      Green LED - Toggles on/off
      8           *                      Orange LED - On if SW2 pressed
      9           *                      Yellow LED - On if SW1 pressed
     10           *
     11           *                      Also configures push buttons for falling IRQ's. ISR
     12           *                        configured in vector table in isr.h
     13           *
     14           
     15          
     16          
     17          #define GPIO_PIN_MASK            0x1Fu
     18          #define GPIO_PIN(x)              (((1)<<(x & GPIO_PIN_MASK)))*/
     19          
     20          #include "common.h"
     21          #include "MK60N512VMD100.h"
     22          #include "k60_tower.h"
     23          #include "hw_sdhc.h"
     24          #include "diskio.h"
     25          #include "FAT32.h"
     26          #include "BMP.h"
     27          
     28          #define RowEnd  260
     29          #define LineEnd  100
     30          #define lie  60//51  
     31          
     32          //#define PTT  (GPIOD_PDIR & 0x00000100u)
     33          
     34          
     35          
     36          
     37          //位带操作,实现51类似的GPIO控制功能
     38          //具体实现思想,参考<<CM3权威指南>>第五章(87页~92页)
     39          //参考正点原子STM32不完全手册
     40          //IO口操作宏定义
     41          #define BITBAND(addr, bitnum) ((addr & 0xF0000000)+0x2000000+((addr &0xFFFFF)<<5)+(bitnum<<2)) 
     42          #define MEM_ADDR(addr)  *((volatile unsigned long  *)(addr)) 
     43          #define BIT_ADDR(addr, bitnum)   MEM_ADDR(BITBAND(addr, bitnum)) 
     44          //IO口地址映射
     45          #define GPIOA_ODR_Addr    (PTA_BASE_PTR+0) //0x4001080C 
     46          #define GPIOB_ODR_Addr    (PTB_BASE_PTR+0) //0x40010C0C 
     47          #define GPIOC_ODR_Addr    (PTC_BASE_PTR+0) //0x4001100C 
     48          #define GPIOD_ODR_Addr    (PTD_BASE_PTR+0) //0x4001140C 
     49          #define GPIOE_ODR_Addr    (PTE_BASE_PTR+0) //0x4001180C 
     50             
     51          
     52          #define GPIOA_IDR_Addr    (PTA_BASE_PTR+0x10) //0x40010808 
     53          #define GPIOB_IDR_Addr    (PTB_BASE_PTR+0x10) //0x40010C08 
     54          #define GPIOC_IDR_Addr    (PTC_BASE_PTR+0x10) //0x40011008 
     55          #define GPIOD_IDR_Addr    (PTD_BASE_PTR+0x10) //0x40011408 
     56          #define GPIOE_IDR_Addr    (PTE_BASE_PTR+0x10) //0x40011808 
     57          
     58          
     59          //IO口操作,只对单一的IO口!
     60          #define PAout(n)   BIT_ADDR(GPIOA_ODR_Addr,n)  //输出 
     61          #define PAin(n)    BIT_ADDR(GPIOA_IDR_Addr,n)  //输入 
     62            
     63          #define PBout(n)   BIT_ADDR(GPIOB_ODR_Addr,n)  //输出 
     64          #define PBin(n)    BIT_ADDR(GPIOB_IDR_Addr,n)  //输入 
     65          
     66          #define PCout(n)   BIT_ADDR(GPIOC_ODR_Addr,n)  //输出 
     67          #define PCin(n)    BIT_ADDR(GPIOC_IDR_Addr,n)  //输入 
     68          
     69          #define PDout(n)   BIT_ADDR(GPIOD_ODR_Addr,n)  //输出 
     70          #define PDin(n)    BIT_ADDR(GPIOD_IDR_Addr,n)  //输入 
     71          
     72          #define PEout(n)   BIT_ADDR(GPIOE_ODR_Addr,n)  //输出 
     73          #define PEin(n)    BIT_ADDR(GPIOE_IDR_Addr,n)  //输入
     74          
     75          
     76          
     77          //#define GPIOE_ODR_Addr    (PTE_BASE+0) //0x4001180C 
     78          #define PEin(n)    BIT_ADDR(GPIOE_IDR_Addr,n)  //输入 
     79          #define KEY0_PIN  5    
     80          #define KEY0      PEin(KEY0_PIN) //PE0 
     81          
     82          
     83          
     84          

   \                                 In section .bss, align 4
     85          int ucTimeDelayFlag;
   \                     ucTimeDelayFlag:
   \   00000000                      DS8 4

   \                                 In section .bss, align 1
     86          unsigned char gpline=0 , gpflag=0 , gppoint=0 ;
   \                     gpline:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     gpflag:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
   \                     gppoint:
   \   00000000                      DS8 1
     87          

   \                                 In section .bss, align 4
     88          unsigned char Pic[lie][LineEnd];
   \                     Pic:
   \   00000000                      DS8 6000

   \                                 In section .bss, align 4
     89          unsigned int CLie=0;
   \                     CLie:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     90          unsigned int LieCount=0,RowCount;
   \                     LieCount:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     RowCount:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     91          unsigned int GPflag;
   \                     GPflag:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
     92          int temp;
   \                     temp:
   \   00000000                      DS8 4
     93          
     94          

   \                                 In section .text, align 4, keep-with-next
     95          const unsigned int GetPic[61]={20,24,28,32,36,40,44,48,52,56,
   \                     GetPic:
   \   00000000                      ; Initializer data, 244 bytes
   \   00000000   140000001800       DC32 20, 24, 28, 32, 36, 40, 44, 48, 52, 56
   \              00001C000000
   \              200000002400
   \              000028000000
   \              2C0000003000
   \              000034000000
   \              38000000    
   \   00000028   3B0000003E00       DC32 59, 62, 65, 68, 71, 74, 77, 80, 83, 86
   \              000041000000
   \              440000004700
   \              00004A000000
   \              4D0000005000
   \              000053000000
   \              56000000    
   \   00000050   590000005B00       DC32 89, 91, 93, 95, 97, 99, 101, 103, 105, 107
   \              00005D000000
   \              5F0000006100
   \              000063000000
   \              650000006700
   \              000069000000
   \              6B000000    
   \   00000078   6D0000006E00       DC32 109, 110, 111, 112, 113, 114, 115, 116, 117, 118
   \              00006F000000
   \              700000007100
   \              000072000000
   \              730000007400
   \              000075000000
   \              76000000    
   \   000000A0   770000007800       DC32 119, 120, 121, 122, 123, 124, 125, 126, 127, 128
   \              000079000000
   \              7A0000007B00
   \              00007C000000
   \              7D0000007E00
   \              00007F000000
   \              80000000    
   \   000000C8   810000008200       DC32 129, 130, 131, 132, 133, 134, 135, 136, 137, 138
   \              000083000000
   \              840000008500
   \              000086000000
   \              870000008800
   \              000089000000
   \              8A000000    
   \   000000F0   8B000000           DC32 139
     96                                        59,62,65,68,71,74,77,80,83,86,
     97                                        89,91,93,95,97,99,101,103,105,107,
     98                                        109,110,111,112,113,114,115,116,117,118,
     99                                        119,120,121,122,123,124,125,126,127,128,
    100                                        129,130,131,132,133,134,135,136,137,138,
    101                                        139
    102                                   };
    103          //FAT32文件系统变量

   \                                 In section .bss, align 4
    104          struct FAT32_Init_Arg *pArg;
   \                     pArg:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
    105          struct FAT32_Init_Arg FatArg;
   \                     FatArg:
   \   00000000                      DS8 32

   \                                 In section .bss, align 4
    106          struct FileInfoStruct FileInfo;
   \                     FileInfo:
   \   00000000                      DS8 64

   \                                 In section .bss, align 1
    107          uint8 Dev_No=0;
   \                     Dev_No:
   \   00000000                      DS8 1
    108          //BMP变量

   \                                 In section .bss, align 4
    109          RGBQUAD ColorTable[256];
   \                     ColorTable:
   \   00000000                      DS8 1024
    110          //BMP测试数据

   \                                 In section .bss, align 4
    111          uint8 pic[80][70];
   \                     pic:
   \   00000000                      DS8 5600

   \                                 In section .text, align 2, keep-with-next
    112          void delay(int num)                                   
    113          { 
    114               unsigned int ii,jj; 
    115              for(ii=0;ii<num;ii++) 
   \                     delay:
   \   00000000   0021               MOVS     R1,#+0
   \   00000002   03E0               B.N      ??delay_0
    116                 for(jj=0;jj<59;jj++); 
   \                     ??delay_1:
   \   00000004   521C               ADDS     R2,R2,#+1
   \                     ??delay_2:
   \   00000006   3B2A               CMP      R2,#+59
   \   00000008   FCD3               BCC.N    ??delay_1
   \   0000000A   491C               ADDS     R1,R1,#+1
   \                     ??delay_0:
   \   0000000C   8142               CMP      R1,R0
   \   0000000E   01D2               BCS.N    ??delay_3
   \   00000010   0022               MOVS     R2,#+0
   \   00000012   F8E7               B.N      ??delay_2
    117          }
   \                     ??delay_3:
   \   00000014   7047               BX       LR               ;; return
    118          
    119          

   \                                 In section .text, align 2, keep-with-next
    120          void IRQ_Init(void)
    121          {
    122          	//PORTD_PCR8 = PORT_PCR_MUX(0x1); // GPIO is alt1 function for this pin
    123                  PORTA_PCR15 = PORT_PCR_MUX(0x1);
   \                     IRQ_Init:
   \   00000000   ........           LDR.W    R0,??DataTable17  ;; 0x4004903c
   \   00000004   4FF48071           MOV      R1,#+256
   \   00000008   0160               STR      R1,[R0, #+0]
    124          	/* Configure the PTE26 pin for rising edge interrupts */
    125          	//PORTD_PCR8 |= PORT_PCR_IRQC(0x9);
    126                  PORTA_PCR15 |= PORT_PCR_IRQC(0x9);
   \   0000000A   ........           LDR.W    R0,??DataTable17  ;; 0x4004903c
   \   0000000E   0068               LDR      R0,[R0, #+0]
   \   00000010   50F41020           ORRS     R0,R0,#0x90000
   \   00000014   ........           LDR.W    R1,??DataTable17  ;; 0x4004903c
   \   00000018   0860               STR      R0,[R1, #+0]
    127                  /*
    128                  0000 Interrupt/DMA Request disabled.
    129                  0001 DMA Request on rising edge.
    130                  0010 DMA Request on falling edge.
    131                  0011 DMA Request on either edge.
    132                  0100 Reserved.
    133                  1000 Interrupt when logic zero.
    134                  1001 Interrupt on rising edge.
    135                  1010 Interrupt on falling edge.
    136                  1011 Interrupt on either edge.
    137                  1100 Interrupt when logic one.
    138                  */
    139          	//PORTE_PCR26 = 1 << 8 | 0xA << 16 | 1;
    140          	//GPIOD_PDDR |= 0 << 8;
    141                  //GPIOA_PDDR |= 0 << 15;
    142                  
    143                  PORTC_PCR0 = PORT_PCR_MUX(0x1);
   \   0000001A   ........           LDR.W    R0,??DataTable17_1  ;; 0x4004b000
   \   0000001E   4FF48071           MOV      R1,#+256
   \   00000022   0160               STR      R1,[R0, #+0]
    144                  GPIOC_PDDR = 0x00000000u;
   \   00000024   ........           LDR.W    R0,??DataTable17_2  ;; 0x400ff094
   \   00000028   0021               MOVS     R1,#+0
   \   0000002A   0160               STR      R1,[R0, #+0]
    145          }
   \   0000002C   7047               BX       LR               ;; return
    146          void Timer0( unsigned int timeout );

   \                                 In section .text, align 2, keep-with-next
    147          void ISR_PTA(void)    //行同步
    148          {
   \                     ISR_PTA:
   \   00000000   80B5               PUSH     {R7,LR}
    149          	PORTA_ISFR = 1 << 15;
   \   00000002   ....               LDR.N    R0,??DataTable17_3  ;; 0x400490a0
   \   00000004   4FF40041           MOV      R1,#+32768
   \   00000008   0160               STR      R1,[R0, #+0]
    150                  
    151                  //GPIOA_PTOR |= 1 << 10;
    152          	//delay2();
    153                  disable_irq(87);
   \   0000000A   5720               MOVS     R0,#+87
   \   0000000C   ........           BL       disable_irq
    154                  //enable_irq(90);
    155              
    156                  if(LieCount==GetPic[CLie]) 
   \   00000010   ....               LDR.N    R0,??DataTable17_4
   \   00000012   0068               LDR      R0,[R0, #+0]
   \   00000014   ....               LDR.N    R1,??DataTable17_5
   \   00000016   0968               LDR      R1,[R1, #+0]
   \   00000018   ........           ADR.W    R2,GetPic
   \   0000001C   52F82110           LDR      R1,[R2, R1, LSL #+2]
   \   00000020   8842               CMP      R0,R1
   \   00000022   21D1               BNE.N    ??ISR_PTA_0
    157                  {  
    158                    delay(3);   
   \   00000024   0320               MOVS     R0,#+3
   \   00000026   ........           BL       delay
    159                    for(RowCount=0;RowCount<LineEnd;RowCount++)
   \   0000002A   ....               LDR.N    R0,??DataTable17_6
   \   0000002C   0021               MOVS     R1,#+0
   \   0000002E   0160               STR      R1,[R0, #+0]
   \   00000030   11E0               B.N      ??ISR_PTA_1
    160                    {  
    161                      Pic[CLie][RowCount] = (GPIOC_PDIR & (~GPIO_PDIR_PDI(0))) * 0xFF; 
   \                     ??ISR_PTA_2:
   \   00000032   ....               LDR.N    R0,??DataTable17_6
   \   00000034   0068               LDR      R0,[R0, #+0]
   \   00000036   ....               LDR.N    R1,??DataTable17_5
   \   00000038   0968               LDR      R1,[R1, #+0]
   \   0000003A   6422               MOVS     R2,#+100
   \   0000003C   ....               LDR.N    R3,??DataTable17_7
   \   0000003E   02FB0131           MLA      R1,R2,R1,R3
   \   00000042   ....               LDR.N    R2,??DataTable17_8  ;; 0x400ff090
   \   00000044   1268               LDR      R2,[R2, #+0]
   \   00000046   FF23               MOVS     R3,#+255
   \   00000048   5A43               MULS     R2,R3,R2
   \   0000004A   4254               STRB     R2,[R0, R1]
    162                      /*temp = (GPIOC_PDIR & 0x00000001u);
    163                      if(temp > 0)
    164                      {
    165                        temp = 0;
    166                      }*/
    167                    }
   \   0000004C   ....               LDR.N    R0,??DataTable17_6
   \   0000004E   0068               LDR      R0,[R0, #+0]
   \   00000050   401C               ADDS     R0,R0,#+1
   \   00000052   ....               LDR.N    R1,??DataTable17_6
   \   00000054   0860               STR      R0,[R1, #+0]
   \                     ??ISR_PTA_1:
   \   00000056   ....               LDR.N    R0,??DataTable17_6
   \   00000058   0068               LDR      R0,[R0, #+0]
   \   0000005A   6428               CMP      R0,#+100
   \   0000005C   E9D3               BCC.N    ??ISR_PTA_2
    168                   CLie++; 
   \   0000005E   ....               LDR.N    R0,??DataTable17_5
   \   00000060   0068               LDR      R0,[R0, #+0]
   \   00000062   401C               ADDS     R0,R0,#+1
   \   00000064   ....               LDR.N    R1,??DataTable17_5
   \   00000066   0860               STR      R0,[R1, #+0]
    169                  }
    170                  LieCount++; 
   \                     ??ISR_PTA_0:
   \   00000068   ....               LDR.N    R0,??DataTable17_4
   \   0000006A   0068               LDR      R0,[R0, #+0]
   \   0000006C   401C               ADDS     R0,R0,#+1
   \   0000006E   ....               LDR.N    R1,??DataTable17_4
   \   00000070   0860               STR      R0,[R1, #+0]
    171                  if(CLie==60)GPflag=1;
   \   00000072   ....               LDR.N    R0,??DataTable17_5
   \   00000074   0068               LDR      R0,[R0, #+0]
   \   00000076   3C28               CMP      R0,#+60
   \   00000078   02D1               BNE.N    ??ISR_PTA_3
   \   0000007A   ....               LDR.N    R0,??DataTable17_9
   \   0000007C   0121               MOVS     R1,#+1
   \   0000007E   0160               STR      R1,[R0, #+0]
    172                  Timer0(1);
   \                     ??ISR_PTA_3:
   \   00000080   0120               MOVS     R0,#+1
   \   00000082   ........           BL       Timer0
    173                  PIT_TCTRL0 |= PIT_TCTRL_TEN_MASK;
   \   00000086   ....               LDR.N    R0,??DataTable17_10  ;; 0x40037108
   \   00000088   0068               LDR      R0,[R0, #+0]
   \   0000008A   50F00100           ORRS     R0,R0,#0x1
   \   0000008E   ....               LDR.N    R1,??DataTable17_10  ;; 0x40037108
   \   00000090   0860               STR      R0,[R1, #+0]
    174                  enable_irq(68);
   \   00000092   4420               MOVS     R0,#+68
   \   00000094   ........           BL       enable_irq
    175          }
   \   00000098   01BD               POP      {R0,PC}          ;; return
    176          

   \                                 In section .text, align 2, keep-with-next
    177          void ISR_PTD(void)    //场同步
    178          {
   \                     ISR_PTD:
   \   00000000   80B5               PUSH     {R7,LR}
    179          	PORTD_ISFR = 1 << 8;
   \   00000002   ....               LDR.N    R0,??DataTable17_11  ;; 0x4004c0a0
   \   00000004   4FF48071           MOV      R1,#+256
   \   00000008   0160               STR      R1,[R0, #+0]
    180          	//GPIOA_PTOR |= 1 << 11;
    181                  //disable_irq(90);
    182                  
    183                  Timer0(0x15A0);
   \   0000000A   4FF4AD50           MOV      R0,#+5536
   \   0000000E   ........           BL       Timer0
    184                  
    185                  PIT_TCTRL0 |= PIT_TCTRL_TEN_MASK;
   \   00000012   ....               LDR.N    R0,??DataTable17_10  ;; 0x40037108
   \   00000014   0068               LDR      R0,[R0, #+0]
   \   00000016   50F00100           ORRS     R0,R0,#0x1
   \   0000001A   ....               LDR.N    R1,??DataTable17_10  ;; 0x40037108
   \   0000001C   0860               STR      R0,[R1, #+0]
    186                  enable_irq(68);
   \   0000001E   4420               MOVS     R0,#+68
   \   00000020   ........           BL       enable_irq
    187                  
    188                  while(GPflag==0);     
   \                     ??ISR_PTD_0:
   \   00000024   ....               LDR.N    R0,??DataTable17_9
   \   00000026   0068               LDR      R0,[R0, #+0]
   \   00000028   0028               CMP      R0,#+0
   \   0000002A   FBD0               BEQ.N    ??ISR_PTD_0
    189          }
   \   0000002C   01BD               POP      {R0,PC}          ;; return
    190          
    191          

   \                                 In section .text, align 2, keep-with-next
    192          void Timer_Init()
    193          {
    194            SIM_SCGC6 |= SIM_SCGC6_PIT_MASK;
   \                     Timer_Init:
   \   00000000   ....               LDR.N    R0,??DataTable17_12  ;; 0x4004803c
   \   00000002   0068               LDR      R0,[R0, #+0]
   \   00000004   50F40000           ORRS     R0,R0,#0x800000
   \   00000008   ....               LDR.N    R1,??DataTable17_12  ;; 0x4004803c
   \   0000000A   0860               STR      R0,[R1, #+0]
    195            PIT_MCR &= ~PIT_MCR_MDIS_MASK;
   \   0000000C   ....               LDR.N    R0,??DataTable17_13  ;; 0x40037000
   \   0000000E   0068               LDR      R0,[R0, #+0]
   \   00000010   30F00200           BICS     R0,R0,#0x2
   \   00000014   ....               LDR.N    R1,??DataTable17_13  ;; 0x40037000
   \   00000016   0860               STR      R0,[R1, #+0]
    196          }
   \   00000018   7047               BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
    197          void Timer0( unsigned int timeout )
    198          {
    199              PIT_LDVAL0 = timeout;
   \                     Timer0:
   \   00000000   ....               LDR.N    R1,??DataTable17_14  ;; 0x40037100
   \   00000002   0860               STR      R0,[R1, #+0]
    200              PIT_TCTRL0 |= PIT_TCTRL_TEN_MASK |PIT_TCTRL_TIE_MASK;
   \   00000004   ....               LDR.N    R0,??DataTable17_10  ;; 0x40037108
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   50F00300           ORRS     R0,R0,#0x3
   \   0000000C   ....               LDR.N    R1,??DataTable17_10  ;; 0x40037108
   \   0000000E   0860               STR      R0,[R1, #+0]
    201              //enable_irq(68);
    202          }
   \   00000010   7047               BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
    203          void PIT0_ISR(void)
    204          {
   \                     PIT0_ISR:
   \   00000000   80B5               PUSH     {R7,LR}
    205              PIT_TFLG0 |= PIT_TFLG_TIF_MASK;
   \   00000002   ....               LDR.N    R0,??DataTable17_15  ;; 0x4003710c
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   50F00100           ORRS     R0,R0,#0x1
   \   0000000A   ....               LDR.N    R1,??DataTable17_15  ;; 0x4003710c
   \   0000000C   0860               STR      R0,[R1, #+0]
    206              PIT_TCTRL0 &= ~PIT_TCTRL_TEN_MASK;
   \   0000000E   ....               LDR.N    R0,??DataTable17_10  ;; 0x40037108
   \   00000010   0068               LDR      R0,[R0, #+0]
   \   00000012   4008               LSRS     R0,R0,#+1
   \   00000014   4000               LSLS     R0,R0,#+1
   \   00000016   ....               LDR.N    R1,??DataTable17_10  ;; 0x40037108
   \   00000018   0860               STR      R0,[R1, #+0]
    207              //GPIOA_PTOR |= 1 << 10;
    208              disable_irq(68);
   \   0000001A   4420               MOVS     R0,#+68
   \   0000001C   ........           BL       disable_irq
    209              
    210              if(GPflag==0)
   \   00000020   ....               LDR.N    R0,??DataTable17_9
   \   00000022   0068               LDR      R0,[R0, #+0]
   \   00000024   0028               CMP      R0,#+0
   \   00000026   05D1               BNE.N    ??PIT0_ISR_0
    211              {
    212                delay(10);
   \   00000028   0A20               MOVS     R0,#+10
   \   0000002A   ........           BL       delay
    213                enable_irq(87);
   \   0000002E   5720               MOVS     R0,#+87
   \   00000030   ........           BL       enable_irq
    214              }
    215               
    216          }
   \                     ??PIT0_ISR_0:
   \   00000034   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
    217          void Timer1( unsigned int timeout )
    218          {
    219              PIT_LDVAL1 = timeout;
   \                     Timer1:
   \   00000000   ....               LDR.N    R1,??DataTable17_16  ;; 0x40037110
   \   00000002   0860               STR      R0,[R1, #+0]
    220              
    221              PIT_TCTRL1 |= PIT_TCTRL_TEN_MASK |PIT_TCTRL_TIE_MASK;
   \   00000004   ....               LDR.N    R0,??DataTable17_17  ;; 0x40037118
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   50F00300           ORRS     R0,R0,#0x3
   \   0000000C   ....               LDR.N    R1,??DataTable17_17  ;; 0x40037118
   \   0000000E   0860               STR      R0,[R1, #+0]
    222              //enable_irq(69);
    223          }
   \   00000010   7047               BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
    224          void PIT1_ISR(void)
    225          {
   \                     PIT1_ISR:
   \   00000000   80B5               PUSH     {R7,LR}
    226              PIT_TFLG1 |= PIT_TFLG_TIF_MASK;
   \   00000002   ....               LDR.N    R0,??DataTable17_18  ;; 0x4003711c
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   50F00100           ORRS     R0,R0,#0x1
   \   0000000A   ....               LDR.N    R1,??DataTable17_18  ;; 0x4003711c
   \   0000000C   0860               STR      R0,[R1, #+0]
    227              GPIOA_PTOR |= 1 << 10;
   \   0000000E   ....               LDR.N    R0,??DataTable17_19  ;; 0x400ff00c
   \   00000010   0068               LDR      R0,[R0, #+0]
   \   00000012   50F48060           ORRS     R0,R0,#0x400
   \   00000016   ....               LDR.N    R1,??DataTable17_19  ;; 0x400ff00c
   \   00000018   0860               STR      R0,[R1, #+0]
    228              
    229              disable_irq(69);
   \   0000001A   4520               MOVS     R0,#+69
   \   0000001C   ........           BL       disable_irq
    230          }
   \   00000020   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
    231          void Timer2( unsigned int timeout )
    232          {
    233              PIT_LDVAL2 = timeout;
   \                     Timer2:
   \   00000000   ....               LDR.N    R1,??DataTable17_20  ;; 0x40037120
   \   00000002   0860               STR      R0,[R1, #+0]
    234              PIT_TCTRL2 |= PIT_TCTRL_TEN_MASK |PIT_TCTRL_TIE_MASK;
   \   00000004   ....               LDR.N    R0,??DataTable17_21  ;; 0x40037128
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   50F00300           ORRS     R0,R0,#0x3
   \   0000000C   ....               LDR.N    R1,??DataTable17_21  ;; 0x40037128
   \   0000000E   0860               STR      R0,[R1, #+0]
    235              //enable_irq(70);
    236          }
   \   00000010   7047               BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
    237          void PIT2_ISR(void)
    238          {
   \                     PIT2_ISR:
   \   00000000   80B5               PUSH     {R7,LR}
    239              PIT_TFLG2 |= PIT_TFLG_TIF_MASK;
   \   00000002   ....               LDR.N    R0,??DataTable17_22  ;; 0x4003712c
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   50F00100           ORRS     R0,R0,#0x1
   \   0000000A   ....               LDR.N    R1,??DataTable17_22  ;; 0x4003712c
   \   0000000C   0860               STR      R0,[R1, #+0]
    240              GPIOA_PTOR |= 1 << 10;
   \   0000000E   ....               LDR.N    R0,??DataTable17_19  ;; 0x400ff00c
   \   00000010   0068               LDR      R0,[R0, #+0]
   \   00000012   50F48060           ORRS     R0,R0,#0x400
   \   00000016   ....               LDR.N    R1,??DataTable17_19  ;; 0x400ff00c
   \   00000018   0860               STR      R0,[R1, #+0]
    241           
    242              disable_irq(70);
   \   0000001A   4620               MOVS     R0,#+70
   \   0000001C   ........           BL       disable_irq
    243          }
   \   00000020   01BD               POP      {R0,PC}          ;; return

   \                                 In section .text, align 2, keep-with-next
    244          void Timer3( unsigned int timeout )
    245          {
    246              PIT_LDVAL3 = timeout;
   \                     Timer3:
   \   00000000   ....               LDR.N    R1,??DataTable17_23  ;; 0x40037130
   \   00000002   0860               STR      R0,[R1, #+0]
    247              
    248              PIT_TCTRL3 |= PIT_TCTRL_TEN_MASK |PIT_TCTRL_TIE_MASK;
   \   00000004   ....               LDR.N    R0,??DataTable17_24  ;; 0x40037138
   \   00000006   0068               LDR      R0,[R0, #+0]
   \   00000008   50F00300           ORRS     R0,R0,#0x3
   \   0000000C   ....               LDR.N    R1,??DataTable17_24  ;; 0x40037138
   \   0000000E   0860               STR      R0,[R1, #+0]
    249              //enable_irq(71);
    250          }
   \   00000010   7047               BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
    251          void PIT3_ISR(void)
    252          {
   \                     PIT3_ISR:
   \   00000000   80B5               PUSH     {R7,LR}
    253              PIT_TFLG3 |= PIT_TFLG_TIF_MASK;
   \   00000002   ....               LDR.N    R0,??DataTable17_25  ;; 0x4003713c
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   50F00100           ORRS     R0,R0,#0x1
   \   0000000A   ....               LDR.N    R1,??DataTable17_25  ;; 0x4003713c
   \   0000000C   0860               STR      R0,[R1, #+0]
    254              GPIOA_PTOR |= 1 << 10;
   \   0000000E   ....               LDR.N    R0,??DataTable17_19  ;; 0x400ff00c
   \   00000010   0068               LDR      R0,[R0, #+0]
   \   00000012   50F48060           ORRS     R0,R0,#0x400
   \   00000016   ....               LDR.N    R1,??DataTable17_19  ;; 0x400ff00c
   \   00000018   0860               STR      R0,[R1, #+0]
    255              
    256              disable_irq(71);
   \   0000001A   4720               MOVS     R0,#+71
   \   0000001C   ........           BL       disable_irq
    257          }
   \   00000020   01BD               POP      {R0,PC}          ;; return
    258          
    259          //设置系统主频率

   \                                 In section .text, align 2, keep-with-next
    260          void Pll_Init(void)		//pll = 外部晶振(50) / MCG_C5_PRDIV *  MCG_C6_VDIV
    261          {
    262          	uint32_t temp_reg;
    263          
    264          	//这里处在默认的FEI模式
    265          	//首先移动到FBE模式
    266          
    267          	MCG_C2 = 0;  
   \                     Pll_Init:
   \   00000000   ....               LDR.N    R0,??DataTable17_26  ;; 0x40064001
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0170               STRB     R1,[R0, #+0]
    268          	//MCG_C2 = MCG_C2_RANGE(2) | MCG_C2_HGO_MASK | MCG_C2_EREFS_MASK;
    269          	//初始化晶振后释放锁定状态的振荡器和GPIO
    270          	SIM_SCGC4 |= SIM_SCGC4_LLWU_MASK;
   \   00000006   ....               LDR.N    R0,??DataTable17_27  ;; 0x40048034
   \   00000008   0068               LDR      R0,[R0, #+0]
   \   0000000A   50F08050           ORRS     R0,R0,#0x10000000
   \   0000000E   ....               LDR.N    R1,??DataTable17_27  ;; 0x40048034
   \   00000010   0860               STR      R0,[R1, #+0]
    271          	LLWU_CS |= LLWU_CS_ACKISO_MASK;
   \   00000012   ....               LDR.N    R0,??DataTable17_28  ;; 0x4007c008
   \   00000014   0078               LDRB     R0,[R0, #+0]
   \   00000016   50F08000           ORRS     R0,R0,#0x80
   \   0000001A   ....               LDR.N    R1,??DataTable17_28  ;; 0x4007c008
   \   0000001C   0870               STRB     R0,[R1, #+0]
    272          
    273          
    274          	MCG_C1 = MCG_C1_CLKS(2) | MCG_C1_FRDIV(3);
   \   0000001E   ....               LDR.N    R0,??DataTable17_29  ;; 0x40064000
   \   00000020   9821               MOVS     R1,#+152
   \   00000022   0170               STRB     R1,[R0, #+0]
    275          	//选择外部晶振，参考分频器，清IREFS来启动外部晶振
    276          	//011 If RANGE = 0, Divide Factor is 8; for all other RANGE values, Divide Factor is 256.
    277          
    278          	//等待晶振稳定	    
    279          	//while (!(MCG_S & MCG_S_OSCINIT_MASK)){}              //等待锁相环初始化结束
    280          	while (MCG_S & MCG_S_IREFST_MASK){}                  //等待时钟切换到外部参考时钟
   \                     ??Pll_Init_0:
   \   00000024   ....               LDR.N    R0,??DataTable17_30  ;; 0x40064006
   \   00000026   0078               LDRB     R0,[R0, #+0]
   \   00000028   C006               LSLS     R0,R0,#+27
   \   0000002A   FBD4               BMI.N    ??Pll_Init_0
    281          	while (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2){}
   \                     ??Pll_Init_1:
   \   0000002C   ....               LDR.N    R0,??DataTable17_30  ;; 0x40064006
   \   0000002E   0078               LDRB     R0,[R0, #+0]
   \   00000030   C0F38100           UBFX     R0,R0,#+2,#+2
   \   00000034   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000036   0228               CMP      R0,#+2
   \   00000038   F8D1               BNE.N    ??Pll_Init_1
    282          
    283          	//进入FBE模式,
    284          
    285          	MCG_C5 = MCG_C5_PRDIV(0x13);       //	1 - 25    
   \   0000003A   ....               LDR.N    R0,??DataTable17_31  ;; 0x40064004
   \   0000003C   1321               MOVS     R1,#+19
   \   0000003E   0170               STRB     R1,[R0, #+0]
    286          	//Selects the amount to divide down the external reference clock for the PLL.
    287          	//The resulting frequency must be in the range of 2 MHz to 4 MHz. 
    288          	//	00000 1 01000  9 10000 17 11000 25
    289          	//	00001 2 01001 10 10001 18 11001 Reserved
    290          	//	00010 3 01010 11 10010 19 11010 Reserved
    291          	//	00011 4 01011 12 10011 20 11011 Reserved
    292          	//	00100 5 01100 13 10100 21 11100 Reserved
    293          	//	00101 6 01101 14 10101 22 11101 Reserved
    294          	//	00110 7 01110 15 10110 23 11110 Reserved
    295          	//	00111 8 01111 16 10111 24 11111 Reserved
    296          
    297          	//确保MCG_C6处于复位状态，禁止LOLIE、PLL、和时钟控制器，清PLL VCO分频器
    298          	MCG_C6 = 0x0;
   \   00000040   ....               LDR.N    R0,??DataTable17_32  ;; 0x40064005
   \   00000042   0021               MOVS     R1,#+0
   \   00000044   0170               STRB     R1,[R0, #+0]
    299          
    300          	//保存FMC_PFAPR当前的值
    301          	temp_reg = FMC_PFAPR;
   \   00000046   ....               LDR.N    R0,??DataTable17_33  ;; 0x4001f000
   \   00000048   0068               LDR      R0,[R0, #+0]
    302          
    303          	//通过M&PFD置位M0PFD来禁止预取功能
    304          	FMC_PFAPR |= FMC_PFAPR_M7PFD_MASK | FMC_PFAPR_M6PFD_MASK | FMC_PFAPR_M5PFD_MASK
    305          		| FMC_PFAPR_M4PFD_MASK | FMC_PFAPR_M3PFD_MASK | FMC_PFAPR_M2PFD_MASK
    306          		| FMC_PFAPR_M1PFD_MASK | FMC_PFAPR_M0PFD_MASK;  
   \   0000004A   ....               LDR.N    R1,??DataTable17_33  ;; 0x4001f000
   \   0000004C   0968               LDR      R1,[R1, #+0]
   \   0000004E   51F47F01           ORRS     R1,R1,#0xFF0000
   \   00000052   ....               LDR.N    R2,??DataTable17_33  ;; 0x4001f000
   \   00000054   1160               STR      R1,[R2, #+0]
    307          
    308          	///设置系统分频器
    309          	//MCG=PLL, core = MCG, bus = MCG/2, FlexBus = MCG/2, Flash clock= MCG/4
    310          	SIM_CLKDIV1 = SIM_CLKDIV1_OUTDIV1(0) | SIM_CLKDIV1_OUTDIV2(1) 
    311          		| SIM_CLKDIV1_OUTDIV3(1) | SIM_CLKDIV1_OUTDIV4(3);  
   \   00000056   ....               LDR.N    R1,??DataTable17_34  ;; 0x40048044
   \   00000058   ....               LDR.N    R2,??DataTable17_35  ;; 0x1130000
   \   0000005A   0A60               STR      R2,[R1, #+0]
    312          
    313          	//OUTDIV1  sets the divide value for the core/system clock		1 - 16
    314          	//0x00 == 1
    315          	//0x0F == 16
    316          	//OUTDIV2 sets the divide value for the peripheral clock		1 - 16
    317          	//0x00 == 1
    318          	//0x0F == 16
    319          	//OUTDIV3 sets the divide value for the FlexBus clock driven to the external pin (FB_CLK).
    320          	//1 - 16
    321          	//OUTDIV4 sets the divide value for the flash clock				1 - 16
    322          
    323          	//重新存FMC_PFAPR的原始值
    324          	FMC_PFAPR = temp_reg; 
   \   0000005C   ....               LDR.N    R1,??DataTable17_33  ;; 0x4001f000
   \   0000005E   0860               STR      R0,[R1, #+0]
    325          
    326          	//设置VCO分频器，使能PLL为100MHz, LOLIE=0, PLLS=1, CME=0, VDIV=26
    327          	MCG_C6 = MCG_C6_PLLS_MASK | MCG_C6_VDIV(0x10);	//	24 - 55
   \   00000060   ....               LDR.N    R0,??DataTable17_32  ;; 0x40064005
   \   00000062   5021               MOVS     R1,#+80
   \   00000064   0170               STRB     R1,[R0, #+0]
    328          	/*
    329          	Generate an interrupt request on loss of lock.
    330          	PLL Select
    331          	Controls whether the PLL or FLL output is selected as the MCG source when CLKS[1:0]=00. If the PLLS
    332          	bit is cleared and PLLCLKEN is not set, the PLL is disabled in all modes. If the PLLS is set, the FLL is
    333          	disabled in all modes.
    334          	0 FLL is selected.
    335          	1 PLL is selected (PRDIV need to be programmed to the correct divider to generate a PLL reference
    336          	clock in the range of 2 - 4 MHz prior to setting the PLLS bit).
    337          	*/
    338          	//	00000 24	 01000 32	 10000 40	 11000 48
    339          	//	00001 25	 01001 33	 10001 41	 11001 49
    340          	//	00010 26	 01010 34	 10010 42	 11010 50
    341          	//	00011 27	 01011 35	 10011 43	 11011 51
    342          	//	00100 28	 01100 36	 10100 44	 11100 52
    343          	//	00101 29	 01101 37	 10101 45	 11101 53
    344          	//	00110 30	 01110 38	 10110 46	 11110 54
    345          	//	00111 31	 01111 39	 10111 47	 11111 55
    346          
    347          	while (!(MCG_S & MCG_S_PLLST_MASK)){}; // wait for PLL status bit to set    
   \                     ??Pll_Init_2:
   \   00000066   ....               LDR.N    R0,??DataTable17_30  ;; 0x40064006
   \   00000068   0078               LDRB     R0,[R0, #+0]
   \   0000006A   8006               LSLS     R0,R0,#+26
   \   0000006C   FBD5               BPL.N    ??Pll_Init_2
    348          	while (!(MCG_S & MCG_S_LOCK_MASK)){}; // Wait for LOCK bit to set    
   \                     ??Pll_Init_3:
   \   0000006E   ....               LDR.N    R0,??DataTable17_30  ;; 0x40064006
   \   00000070   0078               LDRB     R0,[R0, #+0]
   \   00000072   4006               LSLS     R0,R0,#+25
   \   00000074   FBD5               BPL.N    ??Pll_Init_3
    349          
    350          	//进入PBE模式    
    351          	//通过清零CLKS位来进入PEE模式
    352          	// CLKS=0, FRDIV=3, IREFS=0, IRCLKEN=0, IREFSTEN=0
    353          	MCG_C1 &= ~MCG_C1_CLKS_MASK;
   \   00000076   ....               LDR.N    R0,??DataTable17_29  ;; 0x40064000
   \   00000078   0078               LDRB     R0,[R0, #+0]
   \   0000007A   10F03F00           ANDS     R0,R0,#0x3F
   \   0000007E   ....               LDR.N    R1,??DataTable17_29  ;; 0x40064000
   \   00000080   0870               STRB     R0,[R1, #+0]
    354          
    355          	//等待时钟状态位更新
    356          	while (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x3){};
   \                     ??Pll_Init_4:
   \   00000082   ....               LDR.N    R0,??DataTable17_30  ;; 0x40064006
   \   00000084   0078               LDRB     R0,[R0, #+0]
   \   00000086   C0F38100           UBFX     R0,R0,#+2,#+2
   \   0000008A   C0B2               UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000008C   0328               CMP      R0,#+3
   \   0000008E   F8D1               BNE.N    ??Pll_Init_4
    357          	//SIM_CLKDIV2 |= SIM_CLKDIV2_USBDIV(1);    
    358          
    359          	/*	//时钟检测
    360          	//设置跟踪时钟为内核时钟
    361          	SIM_SOPT2 |= SIM_SOPT2_TRACECLKSEL_MASK; 
    362          	//在PTA6引脚上使能TRACE_CLKOU功能
    363          	PORTA_PCR6 = ( PORT_PCR_MUX(0x7));  
    364          	*/
    365          }
   \   00000090   7047               BX       LR               ;; return
    366          
    367          

   \                                 In section .text, align 4, keep-with-next
    368          void main(void)
    369          {	
   \                     main:
   \   00000000   30B5               PUSH     {R4,R5,LR}
   \   00000002   87B0               SUB      SP,SP,#+28
    370          	int i=0;
   \   00000004   0024               MOVS     R4,#+0
    371                  uint8 info[9];
    372                  DRESULT sd_state;    //SD卡操作状态
    373                  //SD数据缓存
    374                  uint8  sdhc_dat_buffer1[512];      
    375                  uint8  sdhc_dat_buffer2[512];
    376                  //FAT32文件系统变量
    377                  uint8 CreateTime[6]={0x09,0x07,0x0d,0x0d,0x14,0x0f};
   \   00000006   04A8               ADD      R0,SP,#+16
   \   00000008   ........           ADR.W    R1,`?<Constant {9, 7, 13, 13, 20, 15}>`
   \   0000000C   0CC9               LDM      R1!,{R2,R3}
   \   0000000E   0CC0               STM      R0!,{R2,R3}
   \   00000010   0839               SUBS     R1,R1,#+8
   \   00000012   0838               SUBS     R0,R0,#+8
    378                         
    379                  info[0]=0x53;
   \   00000014   5320               MOVS     R0,#+83
   \   00000016   8DF80400           STRB     R0,[SP, #+4]
    380                  info[1]=0x65;
   \   0000001A   6520               MOVS     R0,#+101
   \   0000001C   8DF80500           STRB     R0,[SP, #+5]
    381                  info[2]=0x72;
   \   00000020   7220               MOVS     R0,#+114
   \   00000022   8DF80600           STRB     R0,[SP, #+6]
    382                  info[3]=0x61;
   \   00000026   6120               MOVS     R0,#+97
   \   00000028   8DF80700           STRB     R0,[SP, #+7]
    383                  info[4]=0x70;
   \   0000002C   7020               MOVS     R0,#+112
   \   0000002E   8DF80800           STRB     R0,[SP, #+8]
    384                  info[5]=0x68;
   \   00000032   6820               MOVS     R0,#+104
   \   00000034   8DF80900           STRB     R0,[SP, #+9]
    385                  info[6]=0x6C;
   \   00000038   6C20               MOVS     R0,#+108
   \   0000003A   8DF80A00           STRB     R0,[SP, #+10]
    386                  info[7]=0x69;
   \   0000003E   6920               MOVS     R0,#+105
   \   00000040   8DF80B00           STRB     R0,[SP, #+11]
    387                  info[8]=0x69;
   \   00000044   6920               MOVS     R0,#+105
   \   00000046   8DF80C00           STRB     R0,[SP, #+12]
    388                  
    389                  Pll_Init();   //设置系统主频率 
   \   0000004A   ........           BL       Pll_Init
    390          	//关中断
    391                  DisableInterrupts;
   \   0000004E   72B6               CPSID i         
    392                  //SDHC模式初始化
    393                  sd_state = disk_initialize(0);
   \   00000050   0020               MOVS     R0,#+0
   \   00000052   ........           BL       disk_initialize
   \   00000056   0500               MOVS     R5,R0
    394                  //FAT32 struct init
    395                  pArg=&FatArg;
   \   00000058   ....               LDR.N    R0,??DataTable17_36
   \   0000005A   ....               LDR.N    R1,??DataTable17_37
   \   0000005C   0160               STR      R1,[R0, #+0]
    396                  FAT32_Init();
   \   0000005E   ........           BL       FAT32_Init
    397                  InitColorTable(ColorTable);
   \   00000062   ....               LDR.N    R0,??DataTable17_38
   \   00000064   ........           BL       InitColorTable
    398                  
    399          	//开启各个GPIO口的转换时钟
    400          	SIM_SCGC5 = SIM_SCGC5_PORTA_MASK | SIM_SCGC5_PORTB_MASK | SIM_SCGC5_PORTC_MASK | SIM_SCGC5_PORTD_MASK | SIM_SCGC5_PORTE_MASK;
   \   00000068   ....               LDR.N    R0,??DataTable17_39  ;; 0x40048038
   \   0000006A   4FF47851           MOV      R1,#+15872
   \   0000006E   0160               STR      R1,[R0, #+0]
    401          	
    402          	//禁止总中断
    403                  // PIT_Init();
    404                  //PORTA_PCR10 = 1 << 8 | 1 << 5;
    405          	//GPIOA_PDDR |= 1 << 10;
    406                  
    407                  //开中断
    408                  EnableInterrupts;
   \   00000070   62B6               CPSIE i         
    409                  //enable_irq(70);
    410                  //PIT_TCTRL2 |= PIT_TCTRL_TIE_MASK;
    411          	//IRQ_Init();
    412                  //Timer_Init();
    413                  
    414          	for(;;)  
    415          	{	
    416                     /* gpline=0;                          //一场中行计数清零
    417                      gpflag=0;                          //清除场采集结束标志
    418                      gppoint=0;
    419                       
    420                      PORTD_PCR8 = 1 << 8 ;
    421          	    GPIOD_PDDR |= 0 << 8;
    422                      while((GPIOD_PDIR & (~GPIO_PDIR_PDI(8)))!= 0x0) ;
    423                      
    424                      Timer0(0x15A0);
    425                  
    426                      PIT_TCTRL0 |= PIT_TCTRL_TEN_MASK;
    427                      enable_irq(68);
    428                      
    429                      while(GPflag==0);   
    430                      
    431                      
    432                      
    433                      
    434          	    PORTA_PCR10 = 1 << 8 | 1 << 5;
    435          	    GPIOA_PDDR |= 1 << 10;*/
    436          		//用户添加自己的代码
    437                      //enable_irq(90);
    438                      
    439                      
    440                      
    441                      
    442                      //disable_irq(90);
    443                    
    444                   
    445                      if (RES_OK == sd_state&&i==0/**/)
   \                     ??main_0:
   \   00000072   EDB2               UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000074   002D               CMP      R5,#+0
   \   00000076   FCD1               BNE.N    ??main_0
   \   00000078   002C               CMP      R4,#+0
   \   0000007A   FAD1               BNE.N    ??main_0
    446                      {
    447                          FAT32_Create_File(&FileInfo,"\\3.txt",CreateTime);
   \   0000007C   04AA               ADD      R2,SP,#+16
   \   0000007E   ........           ADR.W    R1,`?<Constant "\\\\3.txt">`
   \   00000082   ....               LDR.N    R0,??DataTable17_40
   \   00000084   ........           BL       FAT32_Create_File
    448          	        FAT32_Add_Dat(&FileInfo,sizeof(info),info);
   \   00000088   01AA               ADD      R2,SP,#+4
   \   0000008A   0921               MOVS     R1,#+9
   \   0000008C   ....               LDR.N    R0,??DataTable17_40
   \   0000008E   ........           BL       FAT32_Add_Dat
    449                          FAT32_Add_Dat(&FileInfo,sizeof(info),info);
   \   00000092   01AA               ADD      R2,SP,#+4
   \   00000094   0921               MOVS     R1,#+9
   \   00000096   ....               LDR.N    R0,??DataTable17_40
   \   00000098   ........           BL       FAT32_Add_Dat
    450                          
    451          	          BmpBIT8Write(/*&FileInfo,*/"\\6.bmp",80,70,pic,ColorTable);
   \   0000009C   ....               LDR.N    R0,??DataTable17_38
   \   0000009E   0090               STR      R0,[SP, #+0]
   \   000000A0   ....               LDR.N    R3,??DataTable17_41
   \   000000A2   4622               MOVS     R2,#+70
   \   000000A4   5021               MOVS     R1,#+80
   \   000000A6   ........           ADR.W    R0,`?<Constant "\\\\6.bmp">`
   \   000000AA   ........           BL       BmpBIT8Write
    452                          
    453                          
    454                          i++;
   \   000000AE   641C               ADDS     R4,R4,#+1
   \   000000B0   DFE7               B.N      ??main_0
    455                      }
    456                    
    457          	}	
    458          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17:
   \   00000000   3C900440           DC32     0x4004903c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_1:
   \   00000000   00B00440           DC32     0x4004b000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_2:
   \   00000000   94F00F40           DC32     0x400ff094

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_3:
   \   00000000   A0900440           DC32     0x400490a0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_4:
   \   00000000   ........           DC32     LieCount

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_5:
   \   00000000   ........           DC32     CLie

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_6:
   \   00000000   ........           DC32     RowCount

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_7:
   \   00000000   ........           DC32     Pic

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_8:
   \   00000000   90F00F40           DC32     0x400ff090

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_9:
   \   00000000   ........           DC32     GPflag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_10:
   \   00000000   08710340           DC32     0x40037108

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_11:
   \   00000000   A0C00440           DC32     0x4004c0a0

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_12:
   \   00000000   3C800440           DC32     0x4004803c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_13:
   \   00000000   00700340           DC32     0x40037000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_14:
   \   00000000   00710340           DC32     0x40037100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_15:
   \   00000000   0C710340           DC32     0x4003710c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_16:
   \   00000000   10710340           DC32     0x40037110

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_17:
   \   00000000   18710340           DC32     0x40037118

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_18:
   \   00000000   1C710340           DC32     0x4003711c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_19:
   \   00000000   0CF00F40           DC32     0x400ff00c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_20:
   \   00000000   20710340           DC32     0x40037120

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_21:
   \   00000000   28710340           DC32     0x40037128

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_22:
   \   00000000   2C710340           DC32     0x4003712c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_23:
   \   00000000   30710340           DC32     0x40037130

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_24:
   \   00000000   38710340           DC32     0x40037138

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_25:
   \   00000000   3C710340           DC32     0x4003713c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_26:
   \   00000000   01400640           DC32     0x40064001

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_27:
   \   00000000   34800440           DC32     0x40048034

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_28:
   \   00000000   08C00740           DC32     0x4007c008

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_29:
   \   00000000   00400640           DC32     0x40064000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_30:
   \   00000000   06400640           DC32     0x40064006

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_31:
   \   00000000   04400640           DC32     0x40064004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_32:
   \   00000000   05400640           DC32     0x40064005

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_33:
   \   00000000   00F00140           DC32     0x4001f000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_34:
   \   00000000   44800440           DC32     0x40048044

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_35:
   \   00000000   00001301           DC32     0x1130000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_36:
   \   00000000   ........           DC32     pArg

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_37:
   \   00000000   ........           DC32     FatArg

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_38:
   \   00000000   ........           DC32     ColorTable

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_39:
   \   00000000   38800440           DC32     0x40048038

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_40:
   \   00000000   ........           DC32     FileInfo

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_41:
   \   00000000   ........           DC32     pic

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant {9, 7, 13, 13, 20, 15}>`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   09070D0D140F       DC8 9, 7, 13, 13, 20, 15, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "\\\\3.txt">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   5C332E747874       DC8 92, 51, 46, 116, 120, 116, 0, 0
   \              0000        

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "\\\\6.bmp">`:
   \   00000000                      ; Initializer data, 8 bytes
   \   00000000   5C362E626D70       DC8 92, 54, 46, 98, 109, 112, 0, 0
   \              0000        
    459          
    460          
    461          
    462          

   Maximum stack usage in bytes:

     Function   .cstack
     --------   -------
     IRQ_Init        0
     ISR_PTA         8
     ISR_PTD         8
     PIT0_ISR        8
     PIT1_ISR        8
     PIT2_ISR        8
     PIT3_ISR        8
     Pll_Init        0
     Timer0          0
     Timer1          0
     Timer2          0
     Timer3          0
     Timer_Init      0
     delay           0
     main           40


   Section sizes:

     Function/Label                     Bytes
     --------------                     -----
     ucTimeDelayFlag                       4
     gpline                                1
     gpflag                                1
     gppoint                               1
     Pic                                6000
     CLie                                  4
     LieCount                              4
     RowCount                              4
     GPflag                                4
     temp                                  4
     GetPic                              244
     pArg                                  4
     FatArg                               32
     FileInfo                             64
     Dev_No                                1
     ColorTable                         1024
     pic                                5600
     delay                                22
     IRQ_Init                             46
     ISR_PTA                             154
     ISR_PTD                              46
     Timer_Init                           26
     Timer0                               18
     PIT0_ISR                             54
     Timer1                               18
     PIT1_ISR                             34
     Timer2                               18
     PIT2_ISR                             34
     Timer3                               18
     PIT3_ISR                             34
     Pll_Init                            146
     main                                178
     ??DataTable17                         4
     ??DataTable17_1                       4
     ??DataTable17_2                       4
     ??DataTable17_3                       4
     ??DataTable17_4                       4
     ??DataTable17_5                       4
     ??DataTable17_6                       4
     ??DataTable17_7                       4
     ??DataTable17_8                       4
     ??DataTable17_9                       4
     ??DataTable17_10                      4
     ??DataTable17_11                      4
     ??DataTable17_12                      4
     ??DataTable17_13                      4
     ??DataTable17_14                      4
     ??DataTable17_15                      4
     ??DataTable17_16                      4
     ??DataTable17_17                      4
     ??DataTable17_18                      4
     ??DataTable17_19                      4
     ??DataTable17_20                      4
     ??DataTable17_21                      4
     ??DataTable17_22                      4
     ??DataTable17_23                      4
     ??DataTable17_24                      4
     ??DataTable17_25                      4
     ??DataTable17_26                      4
     ??DataTable17_27                      4
     ??DataTable17_28                      4
     ??DataTable17_29                      4
     ??DataTable17_30                      4
     ??DataTable17_31                      4
     ??DataTable17_32                      4
     ??DataTable17_33                      4
     ??DataTable17_34                      4
     ??DataTable17_35                      4
     ??DataTable17_36                      4
     ??DataTable17_37                      4
     ??DataTable17_38                      4
     ??DataTable17_39                      4
     ??DataTable17_40                      4
     ??DataTable17_41                      4
     ?<Constant {9, 7, 13, 13, 20, 15}>    8
     ?<Constant "\\3.txt">                 8
     ?<Constant "\\6.bmp">                 8

 
 12 752 bytes in section .bss
  1 282 bytes in section .text
 
  1 282 bytes of CODE memory
 12 752 bytes of DATA memory

Errors: none
Warnings: 14
